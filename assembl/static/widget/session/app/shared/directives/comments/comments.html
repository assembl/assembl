<div class="options-comment">
    <span><a ng-init="displayBox=false" ng-click="displayBox = !displayBox" ng-hide="readOnly">{{'COMMENTS.reply'| translate }}</a></span>&nbsp;
    <span><a ng-init="showComments=true" ng-click="showComments = !showComments"><i class="fa fa-comment-o"></i>&nbsp;{{comments.length}}</a></span>
</div>
<div class="sub-comment" ng-show="displayBox">
    <form ng-submit="commentSubIdea()">
        <div class="media">
            <div class="media-left">
                <div class="pull-left thumbnail">
                    <img class="media-object img-circle" ng-src="{{currentUser.avatar_url_base}}" width="30" height="30">
                </div>
            </div>
            <div class="media-body">
                <textarea rows="1" ng-model="formData.comment" ng-keyup="expand($event)" class="media-heading text-comment" autocomplete="off" required></textarea>
            </div>
        </div>
        <button type="submit" class="btn btn-default btn-purple btn-xs pull-right">Submit</button>
    </form>
</div>

<div style="clear: right;"></div>

<div class="commentToSubIdea" ng-show="showComments">
    <div class="media media-comment" ng-if="comments.length > 0" ng-repeat="com in comments track by $index">
        <div class="pull-left">
            <input ng-if="com.showSelected" type="checkbox" id="checkbox-{{com['@id']}}"  value="{{com['@id']}}" data-toggle="checkbox" class="comment-to-sub-idea" ng-model="com.selected">
        </div>
        <div class="pull-left thumbnail">
            <img class="media-object img-circle" ng-src="{{com.avatar}}" width="30" height="30">
        </div>
        <div class="media-body">
            <div>
                <h6 class="media-heading">{{com.username}}</h6>
                <i class="text-info time">{{com.date}}</i>
            </div>
            <div>{{com.body}}</div>
        </div>
    </div>
</div>

